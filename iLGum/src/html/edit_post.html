<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>게시글 수정 | iLGum</title>
  <link rel="stylesheet" href="./css/edit_post.css" />
</head>
<body>
  <main class="edit-post-layout">
    <section class="book-search-card" aria-labelledby="book-search-heading">
      <div class="book-search-card__header">
        <h2 id="book-search-heading">책 검색</h2>
        <p>어떤 책을 읽으셨나요?</p>
      </div>
      <div class="current-book">
        <p class="current-book__label">등록된 책 정보</p>
        <div class="current-book__content">
          <img src="https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9788998441012.jpg" alt="책 표지" class="result-cover" id="current-book-cover" />
          <div class="result-body">
            <strong id="current-book-title">모순</strong>
            <span id="current-book-meta">양귀자 · 국내 소설</span>
          </div>
        </div>
        <div class="current-book__period">
        </div>
      </div>
      <div class="book-search-placeholder">
        <button type="button" class="search-btn" data-open="#book-search-modal">+ 책 검색하기</button>
      </div>
      <div class="read-period">
        <p class="read-period__label">읽은 기간</p>
        <div class="read-period__dates">
          <label>
            시작일
            <input type="date" id="read-start-date" name="readStart" value="2025-11-04" />
          </label>
          <label>
            종료일
            <input type="date" id="read-end-date" name="readEnd" value="2025-11-12" />
          </label>
        </div>
      </div>
    </section>

    <section class="edit-post-card" aria-labelledby="edit-post-heading">
      <div class="edit-post-card__header">
        <h2 id="edit-post-heading">게시글 수정</h2>
      </div>

      <form id="edit-post-form" novalidate>
        <div class="form-field">
          <label for="post-title">제목 *</label>
          <input
            type="text"
            id="post-title"
            name="title"
            maxlength="26"
            placeholder="제목을 입력해주세요 (최대 26글자)"
            required
          />
        </div>

        <div class="form-field">
          <label for="post-content">내용 *</label>
          <textarea
            id="post-content"
            name="content"
            rows="8"
            placeholder="당신의 감상을 자유롭게 수정해주세요"
            required
          ></textarea>
          <p class="helper-text"></p>
        </div>

        <div class="form-field">
          <label for="post-image">이미지</label>
          <div class="image-upload">
            <label for="post-image" class="file-select-btn">기존 파일 이름</label>
            <span class="file-name" id="file-name-display">기존 파일 이름</span>
            <input type="file" id="post-image" name="image" accept="image/*" hidden />
          </div>
        </div>

        <button type="submit" id="submit-btn" class="submit-btn" disabled>수정하기</button>
        <a href="./posts.html" class="alt-link">목록으로 돌아가기</a>
      </form>
    </section>
  </main>

  <section id="book-search-modal"
           class="modal"
           role="dialog"
           aria-modal="true"
           aria-labelledby="book-search-modal-title"
           hidden>
    <div class="modal-overlay" data-action="modal-overlay">
      <div class="modal-content">
        <h3 id="book-search-modal-title" class="modal-title">책을 검색해서 선택해주세요</h3>
        <div class="search-input-field">
          <input type="text" id="book-search-input" placeholder="책 제목이나 작가명을 입력하세요" />
        </div>
        <div class="search-results" id="book-search-results" aria-live="polite">
          <ul>
            <li>
              <img src="https://placehold.it/48x64" alt="책 표지" class="result-cover" />
              <div class="result-body">
                <strong>모순</strong>
                <span>양귀자 · 국내 소설</span>
              </div>
            </li>
            <li>
              <img src="https://placehold.it/48x64" alt="책 표지" class="result-cover" />
              <div class="result-body">
                <strong>원미동 사람들</strong>
                <span>양귀자 · 국내 소설</span>
              </div>
            </li>
          </ul>
        </div>
        <div class="modal-actions">
          <button type="button" class="modal-btn modal-btn--cancel" data-action="book-search-cancel">닫기</button>
        </div>
      </div>
    </div>
  </section>

  <script src="./js/auth.js" defer></script>
  <script src="./js/edit_post.js" defer></script>
</body>
</html>
