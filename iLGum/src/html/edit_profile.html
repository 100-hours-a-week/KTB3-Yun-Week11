<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>회원정보 수정 | iLGum</title>
  <link rel="stylesheet" href="./css/edit_profile.css" />
</head>
<body>
  <header class="site-header" role="banner">
    <div class="site-header__inner">
      <a href="./posts.html" class="back-link" aria-label="게시글 목록으로 돌아가기">‹</a>
      <h1 class="site-title">iLGum</h1>
      <details class="profile-dropdown">
        <summary class="profile-button" aria-label="내 프로필">
          <span class="profile-avatar" aria-hidden="true"></span>
        </summary>
        <ul class="profile-dropdown-menu">
          <li><a href="./edit_profile.html">마이페이지</a></li>
          <li><a href="./edit_password.html">비밀번호변경</a></li>
          <li><button id="logout-btn" type="button" class="logout-link">로그아웃</button></li>
        </ul>
      </details>
    </div>
  </header>

  <main class="edit-profile-layout">
    <section class="profile-card" aria-labelledby="profile-card-heading">
      <div class="profile-card__header">
        <h2 id="profile-card-heading">회원정보 수정</h2>
      </div>

      <form id="edit-profile-form" novalidate>
        <div class="form-field profile-picture-field">
          <label for="profile-picture-input" class="profile-picture-label">프로필 사진</label>
          <label class="avatar-upload" for="profile-picture-input">
            <span id="profile-picture-preview" class="avatar-placeholder">+</span>
            <input type="file" id="profile-picture-input" name="profile-picture" accept="image/*" hidden />
          </label>
        </div>

        <div class="form-field">
          <label for="email">이메일</label>
          <input type="email" id="email" name="email" readonly />
        </div>

        <div class="form-field">
          <label for="nickname">닉네임</label>
          <input type="text" id="nickname" name="nickname" maxlength="15" required />
          <p id="nickname-error" class="helper-text"></p>
        </div>

        <button type="submit" id="profile-submit" class="submit-btn" disabled>수정하기</button>
        <button type="button" class="withdraw-btn" data-open="#withdraw-modal">회원 탈퇴</button>
      </form>
    </section>

    <section class="my-posts-card" aria-labelledby="my-posts-heading">
      <div class="my-posts-card__header">
        <h2 id="my-posts-heading">내가 쓴 글</h2>
        <label class="my-posts-search">
          <input type="text" placeholder="게시글 검색어를 입력해주세요." aria-label="내가 쓴 글 검색" />
        </label>
      </div>
      <ul class="my-posts-list">
        <li>
          <p class="post-title">당신 옆을 스쳐간 그 소녀의 이름은</p>
          <p class="post-meta">2025.10.18</p>
        </li>
        <li>
          <p class="post-title">모순에 대한 짧은 기록</p>
          <p class="post-meta">2025.11.09</p>
        </li>
        <li>
          <p class="post-title">읽고 싶은 책 모음</p>
          <p class="post-meta">2025.11.12</p>
        </li>
      </ul>
      <button type="button" class="view-posts-btn">+ 더 보기</button>
    </section>
  </main>

  <section id="withdraw-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="withdraw-modal-title" hidden>
      <div class="modal-overlay" data-action="modal-overlay">
        <div class="modal-content">
          <h3 id="withdraw-modal-title" class="modal-title">탈퇴 하시겠습니까?</h3>
          <p class="modal-desc">탈퇴한 회원 정보는 복구할 수 없습니다.</p>
          <div class="modal-actions">
            <button type="button" class="modal-btn modal-btn--cancel" data-action="withdraw-cancel">취소</button>
            <button type="button" class="modal-btn modal-btn--confirm" data-action="withdraw-confirm">확인</button>
          </div>
        </div>
    </div>
  </section>

  <div id="edit-toast" class="edit-toast" role="status" aria-live="polite" hidden>수정 완료</div>

  <script src="./js/auth.js" defer></script>
  <script src="./js/edit_profile.js" defer></script>
</body>
</html>
